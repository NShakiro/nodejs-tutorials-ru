// TODO: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é multer
/* –û–¥–Ω–æ–π –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ–º—ã—Ö –∑–∞–¥–∞—á –≤ Node.js —è–≤–ª—è–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í Node.js –¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –æ–¥–Ω–∞–∫–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã. –û–¥–Ω–∏–º –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ–¥–æ–±–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è multer, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö Express.*/
const express = require('express');
const multer = require('multer');

const app = express();

app.use(express.static(__dirname));
app.use(multer({ dest: 'uploads' }).single('filedata'));
app.post('/upload', function(req, res, next) {
  let filedata = req.file;
  console.log(filedata);
  if (!filedata) res.send('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞');
  else res.send('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω');
});

app.listen(3000, () => {
  console.log(`Server started on 3000 üî•`);
});

/* –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ multer –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ middleware. –î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é multer –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä dest —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Ñ–∞–π–ª. 

–ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ç–∞–∫–æ–π –ø–∞–ø–∫–∏ –Ω–µ—Ç, —Ç–æ –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞.

–î–∞–ª–µ–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è single(), –∫–æ—Ç-–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±—É–¥–µ—Ç –æ–¥–∏–Ω —Ñ–∞–π–ª. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Ñ–æ—Ä–º–µ –≤ index.html –º—ã –∏–º–µ–µ–º –ø–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. –í —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Ñ–æ—Ä–º–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ –≤ —Ñ–∞–π–ª–µ index.html –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "filedata", –ø–æ—ç—Ç–æ–º—É –≤ —Ñ—É–Ω–∫—Ü–∏—é single() –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ uploads, –≥–¥–µ –º—ã –Ω–∞–π–¥–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª.
*/
